AIMSのパッケージのつくりかた。

1. ワークディレクトリをつくる

十分な空きのあるドライブに適当な名前のディレクトリを作成します。
そこに下記5ファイルをコピーします。

・dscc.exe
・LLZSS.exe
・LPACK.exe
・make.bat
・init.bat

コピーしたら、エクスプローラからinit.batをダブルクリック。
フォルダが4つほどつくられるはずです。

・src
・src_nocomp
・msrc
・lz

1. ファイルをおく

次のようなルールに従い、各フォルダにファイルをおいてください。

・msrc ……ゲームで使うBGMファイルを配置
・src_nocomp  ……ゲームで使うファイルのうち圧縮してはいけないもの
　　　　　　　　　主にムービー類
・src …… 上記どちらにも当てはまらないゲームで利用するファイル。スクリプトも含める。アプリケーションコンフィグは除く。

全てに共通した注意ですが、フォルダ構造は*EXEファイルからの相対パスを維持する*ようにしてください。
仮に、

aims.exe
foo.lua
gfx\bar.png

というファイルがあった場合、srcフォルダの中にも
foo.lua
gfx\bar.png

というようにファイルが置かれていなければなりません。


最後に、アプリケーションコンフィグファイルをmake.batと同じフォルダに置きます。

2. ビルド
コマンドプロンプトでmake.bat他のあるフォルダに移り、下記のようにコマンドを打ちます。

make 「アプリケーションコンフィグファイルの【名前部分だけ】」

アプリケーションコンフィグがfoo.luaなら
make foo
で。

正常に処理が終わると、上記の例でいけば

・foo.p
・foo.mus
・foo.cfg

が増えてるはずです。

各ファイルの役割はこんな感じ。
・.pは各種データファイル群のパック
・.musは音楽ファイルのパック
・.cfgは圧縮したアプリケーションコンフィグ

適当に新しいフォルダをつくり、そこにこの3ファイルを移しましょう。

3.動かす

今作ったフォルダにAIMSのSVNのbin/フォルダからAIMS.exeを持ってきます。
AIMS.exeをアプリケーションコンフィグと同じファイル名にリネーム。
foo.cfgならfoo.exeで。名前が一致しないと起動しません。

あとはfoo.exeを起動すればビルドしたアプリケーションが動くはずです。
